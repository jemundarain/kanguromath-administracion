<app-header title="Usuarios" [breadcrumbs]="items"></app-header>

<form #editAdminUserForm="ngForm" class="flex flex-row mt-2">
    <div class="w-3/4">
        <div class="flex flex-row mb-6">
            <label class="flex-none mr-3 my-auto text-[21px] font-normal text-[#26201F] tracking-tight w-fit">Nombre</label>
            <input pInputText id="username" aria-describedby="username-help" [(ngModel)]="adminUser.name" name="name"/>
        </div>

        <div class="flex flex-row mb-6">
            <label class="flex-none mr-3 my-auto text-[21px] font-normal text-[#26201F] tracking-tight">Apellido</label>
            <input pInputText id="username" aria-describedby="username-help" [(ngModel)]="adminUser.last_name" name="last_name" />
        </div>
        
        <div class="flex flex-row mb-6">
            <label class="flex-none mr-3 my-auto text-[21px] font-normal text-[#26201F] tracking-tight">Nombre de usuario</label>
            <input pInputText id="username" aria-describedby="username-help" [(ngModel)]="adminUser.username" name="username" />
        </div>

        <div class="flex flex-row mb-6">
            <label class="flex-none mr-3 my-auto text-[21px] font-normal text-[#26201F] tracking-tight">Sexo</label>
            <div class="col-span-2 row-start-4">
                <p-radioButton *ngFor="let gender of sexs; let i = index"
                            name="gender"
                            [value]="gender.code"
                            [label]="gender.name"
                            [(ngModel)]="adminUser.sex"
                            class="mr-4">
                </p-radioButton>
            </div>
        </div>

        <div class="flex flex-row mb-6">
            <label class="flex-none mr-3 my-auto text-[21px] font-normal text-[#26201F] tracking-tight">Email</label>
            <input pInputText id="email" aria-describedby="username-help" [(ngModel)]="adminUser.email" name="email" />
        </div>

        <div class="flex flex-row mb-6">
            <label class="flex-none mr-3 my-auto text-[21px] font-normal text-[#26201F] tracking-tight">Fecha de Nacimiento</label>
            <p-calendar [(ngModel)]="date_birth" 
                class="w-40"
                name="date_birth"
                [showIcon]="true" 
                [minDate]="minDate" 
                [maxDate]="maxDate"
                [showIcon]="true"
                inputId="range" 
                inputStyleClass="btn"
            ></p-calendar>           
        </div>

        <div class="flex flex-row mb-6">
            <label class="flex-none mr-3 my-auto text-[21px] font-normal text-[#26201F] tracking-tight">Contrase√±a</label>
            <p-password [(ngModel)]="adminUser.password" [toggleMask]="true" [feedback]="false" name="password"></p-password>
        </div>
        <button pButton type="button" class="btn float-left" label="Volver" icon="pi pi-arrow-left" iconPos="left" (click)="back()"></button>
        <button pButton pRipple label="Guardar" class="btn w-32 p-3 float-right" type="submit"></button>
    </div>

    <div class="w-1/4">
        <p-image [src]="adminUser.avatar" [alt]="adminUser.username"></p-image>
        <p-fileUpload
            #uploadBtn
            class="float-right mt-2"
            mode="basic"
            chooseLabel="Subir foto"
            name="file"
            [auto]="true"
            [url]="uploadUrl"
            accept=".jpg, .png, .jpeg"
            [maxFileSize]="500000"
            (onUpload)="onBasicUpload($event)">
        </p-fileUpload>           
    </div>
</form>    

